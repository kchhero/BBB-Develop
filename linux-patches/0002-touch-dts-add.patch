From 03d729e092dfc4865d4561c07635be191711bea7 Mon Sep 17 00:00:00 2001
From: kchhero <kchhero@gmail.com>
Date: Mon, 11 Aug 2025 18:08:00 +0900
Subject: [PATCH 2/8] touch dts add

---
 arch/arm/boot/dts/BB-I2C1-TOUCH-00A0.dtso | 40 +++++++++++++++++++++++
 arch/arm/boot/dts/Makefile                |  1 +
 2 files changed, 41 insertions(+)
 create mode 100644 arch/arm/boot/dts/BB-I2C1-TOUCH-00A0.dtso

diff --git a/arch/arm/boot/dts/BB-I2C1-TOUCH-00A0.dtso b/arch/arm/boot/dts/BB-I2C1-TOUCH-00A0.dtso
new file mode 100644
index 000000000000..20a369dc6e93
--- /dev/null
+++ b/arch/arm/boot/dts/BB-I2C1-TOUCH-00A0.dtso
@@ -0,0 +1,40 @@
+// meta-custom/recipes-kernel/linux/files/BB-I2C1-TOUCH-00A0.dts
+
+/dts-v1/;
+/plugin/;
+
+#include <dt-bindings/interrupt-controller/irq.h>
+#include <dt-bindings/gpio/gpio.h>
+
+/ {
+    compatible = "ti,beaglebone", "ti,beaglebone-black";
+
+    part-number = "BB-I2C1-FT5426";
+    version = "00A0";
+
+    exclusive-use =
+        "P9.17",  // I2C1_SCL
+        "P9.18",  // I2C1_SDA
+        "P9.23",  // Touch Interrupt Pin
+        "P9.42";  // Touch Reset Pin
+
+    fragment@0 {
+        target = <&i2c1>;
+        __overlay__ {
+            #address-cells = <1>;
+            #size-cells = <0>;
+            status = "okay";
+
+            /* Waveshare 7inch HDMI LCD (C) - FT5426 */
+            ft5x06_ts: touchscreen@38 {
+                compatible = "focaltech,ft5426";
+                reg = <0x38>;
+                interrupt-parent = <&gpio1>;
+                interrupts = <28 IRQ_TYPE_EDGE_FALLING>; /* GPIO1_28 -> P9.23 */
+                
+                /* Reset pin is often on P9.42 (GPIO0_7) */
+                reset-gpios = <&gpio0 7 GPIO_ACTIVE_LOW>; 
+            };
+        };
+    };
+};
diff --git a/arch/arm/boot/dts/Makefile b/arch/arm/boot/dts/Makefile
index adae85c5a286..be13df5b59dc 100644
--- a/arch/arm/boot/dts/Makefile
+++ b/arch/arm/boot/dts/Makefile
@@ -104,6 +104,7 @@ dtb-$(CONFIG_SOC_AM33XX) += \
 	BBORG_RELAY-00A2.dtbo \
 	BBORG_FAN-A000.dtbo \
 	BBORG_COMMS-00A2.dtbo \
+	BB-I2C1-TOUCH-00A0.dtbo \
 	BB-W1-P9.12-00A0.dtbo \
 	BB-UART4-00A0.dtbo \
 	BB-UART2-00A0.dtbo \
-- 
2.43.0

